---
import { getCollection } from 'astro:content';
import ContentLayout from '../../../layouts/ContentLayout.astro';

export async function getStaticPaths() {
  const tabs = await getCollection('music');
  return tabs.map((tab) => ({
    params: { slug: tab.slug },
    props: { tab },
  }));
}

const { tab } = Astro.props;
const { Content, headings } = await tab.render();
---

<ContentLayout title={tab.data.title} authorName="Music" headings={headings} showProfile={false}>
  <header slot="hero" class="mb-12 pb-8 border-b border-gray-100">
    <div class="flex items-center space-x-2 text-orange-600 mb-4 font-semibold text-sm tracking-wider uppercase">
      <a href="/music/tabs/" class="hover:underline flex items-center gap-2">
        <i class="fas fa-chevron-left text-[10px]"></i>
        Back to Tabs
      </a>
      <span class="text-gray-300">|</span>
      <i class="fas fa-guitar"></i>
      <span>Music Tab</span>
    </div>
    <h1 class="text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl">{tab.data.title}</h1>
  </header>
  <div class="prose-purple">
    <Content />
  </div>
</ContentLayout>
